# apiVersion: v1
# items:
# - apiVersion: v1
#   kind: Pod
#   metadata:
#     annotations:
#       cni.projectcalico.org/containerID: 1efbd6f592a2ce365398e3c57d48330c040e12934121b2407c41340c08c99326
#       cni.projectcalico.org/podIP: 10.244.195.201/32
#       cni.projectcalico.org/podIPs: 10.244.195.201/32
#     creationTimestamp: "2025-05-18T14:37:32Z"
#     generateName: immich-machine-learning-67b7f8c757-
#     labels:
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/name: machine-learning
#       pod-template-hash: 67b7f8c757
#     name: immich-machine-learning-67b7f8c757-t7bzf
#     namespace: tst
#     ownerReferences:
#     - apiVersion: apps/v1
#       blockOwnerDeletion: true
#       controller: true
#       kind: ReplicaSet
#       name: immich-machine-learning-67b7f8c757
#       uid: ab1c9c33-7620-4db8-b707-1d9995028f58
#     resourceVersion: "2748796"
#     uid: e344ee84-a3ab-4fd8-97ad-1eabc9051dbf
#   spec:
#     automountServiceAccountToken: true
#     containers:
#     - env:
#       - name: DB_DATABASE_NAME
#         value: immichdwawda
#       - name: DB_HOSTNAME
#         value: postgresqldawdawawaw
#       - name: DB_PASSWORD
#         value: ~Hed[3!Vxk95N=1vw@
#       - name: DB_USERNAME
#         value: immichadwaw
#       - name: IMMICH_IGNORE_MOUNT_CHECK_ERRORS
#         value: "true"
#       - name: IMMICH_MACHINE_LEARNING_URL
#         value: http://immich-machine-learning:3003
#       - name: REDIS_HOSTNAME
#         value: immich-redis-master
#       - name: TRANSFORMERS_CACHE
#         value: /cache
#       - name: UPLOAD_LOCATION
#         value: /usr/src/app/upload/library
#       image: ghcr.io/immich-app/immich-machine-learning:v1.119.0
#       imagePullPolicy: IfNotPresent
#       livenessProbe:
#         failureThreshold: 3
#         httpGet:
#           path: /ping
#           port: http
#           scheme: HTTP
#         periodSeconds: 10
#         successThreshold: 1
#         timeoutSeconds: 1
#       name: immich-machine-learning
#       ports:
#       - containerPort: 3003
#         name: http
#         protocol: TCP
#       readinessProbe:
#         failureThreshold: 3
#         httpGet:
#           path: /ping
#           port: http
#           scheme: HTTP
#         periodSeconds: 10
#         successThreshold: 1
#         timeoutSeconds: 1
#       resources: {}
#       startupProbe:
#         failureThreshold: 60
#         httpGet:
#           path: /ping
#           port: http
#           scheme: HTTP
#         periodSeconds: 10
#         successThreshold: 1
#         timeoutSeconds: 1
#       terminationMessagePath: /dev/termination-log
#       terminationMessagePolicy: File
#       volumeMounts:
#       - mountPath: /cache
#         name: cache
#       - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
#         name: kube-api-access-xh6tl
#         readOnly: true
#     dnsPolicy: ClusterFirst
#     enableServiceLinks: true
#     nodeName: skull-pc
#     preemptionPolicy: PreemptLowerPriority
#     priority: 0
#     restartPolicy: Always
#     schedulerName: default-scheduler
#     securityContext: {}
#     serviceAccount: default
#     serviceAccountName: default
#     terminationGracePeriodSeconds: 30
#     tolerations:
#     - effect: NoExecute
#       key: node.kubernetes.io/not-ready
#       operator: Exists
#       tolerationSeconds: 300
#     - effect: NoExecute
#       key: node.kubernetes.io/unreachable
#       operator: Exists
#       tolerationSeconds: 300
#     volumes:
#     - emptyDir: {}
#       name: cache
#     - name: kube-api-access-xh6tl
#       projected:
#         defaultMode: 420
#         sources:
#         - serviceAccountToken:
#             expirationSeconds: 3607
#             path: token
#         - configMap:
#             items:
#             - key: ca.crt
#               path: ca.crt
#             name: kube-root-ca.crt
#         - downwardAPI:
#             items:
#             - fieldRef:
#                 apiVersion: v1
#                 fieldPath: metadata.namespace
#               path: namespace
#   status:
#     conditions:
#     - lastProbeTime: null
#       lastTransitionTime: "2025-05-18T14:37:33Z"
#       status: "True"
#       type: PodReadyToStartContainers
#     - lastProbeTime: null
#       lastTransitionTime: "2025-05-18T14:37:32Z"
#       status: "True"
#       type: Initialized
#     - lastProbeTime: null
#       lastTransitionTime: "2025-05-18T14:37:43Z"
#       status: "True"
#       type: Ready
#     - lastProbeTime: null
#       lastTransitionTime: "2025-05-18T14:37:43Z"
#       status: "True"
#       type: ContainersReady
#     - lastProbeTime: null
#       lastTransitionTime: "2025-05-18T14:37:32Z"
#       status: "True"
#       type: PodScheduled
#     containerStatuses:
#     - containerID: containerd://21d01f6a8347068e5ba71362dc64775e425a6c6ec4b9ab9af715bc3528e126ca
#       image: ghcr.io/immich-app/immich-machine-learning:v1.119.0
#       imageID: ghcr.io/immich-app/immich-machine-learning@sha256:fa558ae8752eae335c5bfafeb5716dc60d0882f026350adb45e18ab28fbd36ae
#       lastState: {}
#       name: immich-machine-learning
#       ready: true
#       restartCount: 0
#       started: true
#       state:
#         running:
#           startedAt: "2025-05-18T14:37:32Z"
#     hostIP: 192.168.1.170
#     hostIPs:
#     - ip: 192.168.1.170
#     phase: Running
#     podIP: 10.244.195.201
#     podIPs:
#     - ip: 10.244.195.201
#     qosClass: BestEffort
#     startTime: "2025-05-18T14:37:32Z"
# - apiVersion: v1
#   kind: Pod
#   metadata:
#     annotations:
#       checksum/configmap: 2a9ab4a5432825504d910f022638674ce88eaefe9f9f595ad8bc107377d104fb
#       checksum/health: aff24913d801436ea469d8d374b2ddb3ec4c43ee7ab24663d5f8ff1a1b6991a9
#       checksum/scripts: bdec350b84a1ace7cc118db113a21c9f160bde3425b07714e1c0c1da722621cf
#       checksum/secret: 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
#       cni.projectcalico.org/containerID: cbc3d8995de62c5277d550ba9c3ce0e2b412b20dab7a24dc961901314529b54d
#       cni.projectcalico.org/podIP: 10.244.195.199/32
#       cni.projectcalico.org/podIPs: 10.244.195.199/32
#     creationTimestamp: "2025-05-18T14:37:32Z"
#     generateName: immich-redis-master-
#     labels:
#       app.kubernetes.io/component: master
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/managed-by: Helm
#       app.kubernetes.io/name: redis
#       app.kubernetes.io/version: 7.4.2
#       apps.kubernetes.io/pod-index: "0"
#       controller-revision-hash: immich-redis-master-7f79854f7d
#       helm.sh/chart: redis-20.11.3
#       statefulset.kubernetes.io/pod-name: immich-redis-master-0
#     name: immich-redis-master-0
#     namespace: tst
#     ownerReferences:
#     - apiVersion: apps/v1
#       blockOwnerDeletion: true
#       controller: true
#       kind: StatefulSet
#       name: immich-redis-master
#       uid: aa290862-1b31-442b-9358-1eef05365146
#     resourceVersion: "2748961"
#     uid: 140a43bc-61af-4fed-9d80-4bfe266f8fd2
#   spec:
#     affinity:
#       podAntiAffinity:
#         preferredDuringSchedulingIgnoredDuringExecution:
#         - podAffinityTerm:
#             labelSelector:
#               matchLabels:
#                 app.kubernetes.io/component: master
#                 app.kubernetes.io/instance: immich
#                 app.kubernetes.io/name: redis
#             topologyKey: kubernetes.io/hostname
#           weight: 1
#     automountServiceAccountToken: false
#     containers:
#     - args:
#       - -c
#       - /opt/bitnami/scripts/start-scripts/start-master.sh
#       command:
#       - /bin/bash
#       env:
#       - name: BITNAMI_DEBUG
#         value: "false"
#       - name: REDIS_REPLICATION_MODE
#         value: master
#       - name: ALLOW_EMPTY_PASSWORD
#         value: "yes"
#       - name: REDIS_TLS_ENABLED
#         value: "no"
#       - name: REDIS_PORT
#         value: "6379"
#       image: docker.io/bitnami/redis:7.4.2-debian-12-r4
#       imagePullPolicy: IfNotPresent
#       livenessProbe:
#         exec:
#           command:
#           - sh
#           - -c
#           - /health/ping_liveness_local.sh 5
#         failureThreshold: 5
#         initialDelaySeconds: 20
#         periodSeconds: 5
#         successThreshold: 1
#         timeoutSeconds: 6
#       name: redis
#       ports:
#       - containerPort: 6379
#         name: redis
#         protocol: TCP
#       readinessProbe:
#         exec:
#           command:
#           - sh
#           - -c
#           - /health/ping_readiness_local.sh 1
#         failureThreshold: 5
#         initialDelaySeconds: 20
#         periodSeconds: 5
#         successThreshold: 1
#         timeoutSeconds: 2
#       resources:
#         limits:
#           cpu: 150m
#           ephemeral-storage: 2Gi
#           memory: 192Mi
#         requests:
#           cpu: 100m
#           ephemeral-storage: 50Mi
#           memory: 128Mi
#       securityContext:
#         allowPrivilegeEscalation: false
#         capabilities:
#           drop:
#           - ALL
#         readOnlyRootFilesystem: true
#         runAsGroup: 1001
#         runAsNonRoot: true
#         runAsUser: 1001
#         seLinuxOptions: {}
#         seccompProfile:
#           type: RuntimeDefault
#       terminationMessagePath: /dev/termination-log
#       terminationMessagePolicy: File
#       volumeMounts:
#       - mountPath: /opt/bitnami/scripts/start-scripts
#         name: start-scripts
#       - mountPath: /health
#         name: health
#       - mountPath: /data
#         name: redis-data
#       - mountPath: /opt/bitnami/redis/mounted-etc
#         name: config
#       - mountPath: /opt/bitnami/redis/etc/
#         name: empty-dir
#         subPath: app-conf-dir
#       - mountPath: /tmp
#         name: empty-dir
#         subPath: tmp-dir
#     dnsPolicy: ClusterFirst
#     enableServiceLinks: true
#     hostname: immich-redis-master-0
#     nodeName: skull-pc
#     preemptionPolicy: PreemptLowerPriority
#     priority: 0
#     restartPolicy: Always
#     schedulerName: default-scheduler
#     securityContext:
#       fsGroup: 1001
#       fsGroupChangePolicy: Always
#     serviceAccount: immich-redis-master
#     serviceAccountName: immich-redis-master
#     subdomain: immich-redis-headless
#     terminationGracePeriodSeconds: 30
#     tolerations:
#     - effect: NoExecute
#       key: node.kubernetes.io/not-ready
#       operator: Exists
#       tolerationSeconds: 300
#     - effect: NoExecute
#       key: node.kubernetes.io/unreachable
#       operator: Exists
#       tolerationSeconds: 300
#     volumes:
#     - name: redis-data
#       persistentVolumeClaim:
#         claimName: redis-data-immich-redis-master-0
#     - configMap:
#         defaultMode: 493
#         name: immich-redis-scripts
#       name: start-scripts
#     - configMap:
#         defaultMode: 493
#         name: immich-redis-health
#       name: health
#     - configMap:
#         defaultMode: 420
#         name: immich-redis-configuration
#       name: config
#     - emptyDir: {}
#       name: empty-dir
#   status:
#     conditions:
#     - lastProbeTime: null
#       lastTransitionTime: "2025-05-18T14:37:46Z"
#       status: "True"
#       type: PodReadyToStartContainers
#     - lastProbeTime: null
#       lastTransitionTime: "2025-05-18T14:37:36Z"
#       status: "True"
#       type: Initialized
#     - lastProbeTime: null
#       lastTransitionTime: "2025-05-18T14:38:10Z"
#       status: "True"
#       type: Ready
#     - lastProbeTime: null
#       lastTransitionTime: "2025-05-18T14:38:10Z"
#       status: "True"
#       type: ContainersReady
#     - lastProbeTime: null
#       lastTransitionTime: "2025-05-18T14:37:36Z"
#       status: "True"
#       type: PodScheduled
#     containerStatuses:
#     - containerID: containerd://0e4e8b07aa89f0059e42587c653707d628a10b584522da5e58d86946f22e8d55
#       image: docker.io/bitnami/redis:7.4.2-debian-12-r4
#       imageID: docker.io/bitnami/redis@sha256:83d5c765b68bdd01603ea5cbad96abc196e37fb875dc2e9fb8b9bdcce59d13d5
#       lastState: {}
#       name: redis
#       ready: true
#       restartCount: 0
#       started: true
#       state:
#         running:
#           startedAt: "2025-05-18T14:37:46Z"
#     hostIP: 192.168.1.170
#     hostIPs:
#     - ip: 192.168.1.170
#     phase: Running
#     podIP: 10.244.195.199
#     podIPs:
#     - ip: 10.244.195.199
#     qosClass: Burstable
#     startTime: "2025-05-18T14:37:36Z"
# - apiVersion: v1
#   kind: Pod
#   metadata:
#     creationTimestamp: "2025-05-18T14:37:32Z"
#     generateName: immich-server-59b7b4c69-
#     labels:
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/name: server
#       pod-template-hash: 59b7b4c69
#     name: immich-server-59b7b4c69-gn48h
#     namespace: tst
#     ownerReferences:
#     - apiVersion: apps/v1
#       blockOwnerDeletion: true
#       controller: true
#       kind: ReplicaSet
#       name: immich-server-59b7b4c69
#       uid: e40db1a0-3ee7-49a7-8a55-6f4ad769b3de
#     resourceVersion: "2748649"
#     uid: 78b8a715-727d-4ac3-978a-517c8ea37bfe
#   spec:
#     automountServiceAccountToken: true
#     containers:
#     - env:
#       - name: DB_DATABASE_NAME
#         value: immichdwawda
#       - name: DB_HOSTNAME
#         value: postgresqldawdawawaw
#       - name: DB_PASSWORD
#         value: ~Hed[3!Vxk95N=1vw@
#       - name: DB_USERNAME
#         value: immichadwaw
#       - name: IMMICH_IGNORE_MOUNT_CHECK_ERRORS
#         value: "true"
#       - name: IMMICH_MACHINE_LEARNING_URL
#         value: http://immich-machine-learning:3003
#       - name: REDIS_HOSTNAME
#         value: immich-redis-master
#       - name: UPLOAD_LOCATION
#         value: /usr/src/app/upload/library
#       image: ghcr.io/immich-app/immich-server:v1.119.0
#       imagePullPolicy: IfNotPresent
#       livenessProbe:
#         failureThreshold: 3
#         httpGet:
#           path: /api/server/ping
#           port: http
#           scheme: HTTP
#         periodSeconds: 10
#         successThreshold: 1
#         timeoutSeconds: 1
#       name: immich-server
#       ports:
#       - containerPort: 2283
#         name: http
#         protocol: TCP
#       readinessProbe:
#         failureThreshold: 3
#         httpGet:
#           path: /api/server/ping
#           port: http
#           scheme: HTTP
#         periodSeconds: 10
#         successThreshold: 1
#         timeoutSeconds: 1
#       resources: {}
#       startupProbe:
#         failureThreshold: 30
#         httpGet:
#           path: /api/server/ping
#           port: http
#           scheme: HTTP
#         periodSeconds: 10
#         successThreshold: 1
#         timeoutSeconds: 1
#       terminationMessagePath: /dev/termination-log
#       terminationMessagePolicy: File
#       volumeMounts:
#       - mountPath: /usr/src/app/upload
#         name: library
#       - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
#         name: kube-api-access-rhxrw
#         readOnly: true
#     dnsPolicy: ClusterFirst
#     enableServiceLinks: true
#     preemptionPolicy: PreemptLowerPriority
#     priority: 0
#     restartPolicy: Always
#     schedulerName: default-scheduler
#     securityContext: {}
#     serviceAccount: default
#     serviceAccountName: default
#     terminationGracePeriodSeconds: 30
#     tolerations:
#     - effect: NoExecute
#       key: node.kubernetes.io/not-ready
#       operator: Exists
#       tolerationSeconds: 300
#     - effect: NoExecute
#       key: node.kubernetes.io/unreachable
#       operator: Exists
#       tolerationSeconds: 300
#     volumes:
#     - name: library
#       persistentVolumeClaim:
#         claimName: immich-photos
#     - name: kube-api-access-rhxrw
#       projected:
#         defaultMode: 420
#         sources:
#         - serviceAccountToken:
#             expirationSeconds: 3607
#             path: token
#         - configMap:
#             items:
#             - key: ca.crt
#               path: ca.crt
#             name: kube-root-ca.crt
#         - downwardAPI:
#             items:
#             - fieldRef:
#                 apiVersion: v1
#                 fieldPath: metadata.namespace
#               path: namespace
#   status:
#     conditions:
#     - lastProbeTime: null
#       lastTransitionTime: "2025-05-18T14:37:32Z"
#       message: '0/1 nodes are available: persistentvolumeclaim "immich-photos" not
#         found. preemption: 0/1 nodes are available: 1 Preemption is not helpful for
#         scheduling.'
#       reason: Unschedulable
#       status: "False"
#       type: PodScheduled
#     phase: Pending
#     qosClass: BestEffort
# - apiVersion: v1
#   kind: Service
#   metadata:
#     annotations:
#       meta.helm.sh/release-name: immich
#       meta.helm.sh/release-namespace: tst
#     creationTimestamp: "2025-05-18T14:37:32Z"
#     labels:
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/managed-by: Helm
#       app.kubernetes.io/name: machine-learning
#       app.kubernetes.io/service: immich-machine-learning
#       app.kubernetes.io/version: v1.119.0
#       helm.sh/chart: immich-0.9.2
#       helm.toolkit.fluxcd.io/name: immich
#       helm.toolkit.fluxcd.io/namespace: tst
#     name: immich-machine-learning
#     namespace: tst
#     resourceVersion: "2748631"
#     uid: 90b42257-7b29-49d6-91cc-1f18867b0652
#   spec:
#     clusterIP: 10.102.233.60
#     clusterIPs:
#     - 10.102.233.60
#     internalTrafficPolicy: Cluster
#     ipFamilies:
#     - IPv4
#     ipFamilyPolicy: SingleStack
#     ports:
#     - name: http
#       port: 3003
#       protocol: TCP
#       targetPort: http
#     selector:
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/name: machine-learning
#     sessionAffinity: None
#     type: ClusterIP
#   status:
#     loadBalancer: {}
# - apiVersion: v1
#   kind: Service
#   metadata:
#     annotations:
#       meta.helm.sh/release-name: immich
#       meta.helm.sh/release-namespace: tst
#     creationTimestamp: "2025-05-18T14:37:32Z"
#     labels:
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/managed-by: Helm
#       app.kubernetes.io/name: redis
#       app.kubernetes.io/version: 7.4.2
#       helm.sh/chart: redis-20.11.3
#       helm.toolkit.fluxcd.io/name: immich
#       helm.toolkit.fluxcd.io/namespace: tst
#     name: immich-redis-headless
#     namespace: tst
#     resourceVersion: "2748618"
#     uid: dce0283e-420a-49bb-b83e-8c36c00e05e8
#   spec:
#     clusterIP: None
#     clusterIPs:
#     - None
#     internalTrafficPolicy: Cluster
#     ipFamilies:
#     - IPv4
#     ipFamilyPolicy: SingleStack
#     ports:
#     - name: tcp-redis
#       port: 6379
#       protocol: TCP
#       targetPort: redis
#     selector:
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/name: redis
#     sessionAffinity: None
#     type: ClusterIP
#   status:
#     loadBalancer: {}
# - apiVersion: v1
#   kind: Service
#   metadata:
#     annotations:
#       meta.helm.sh/release-name: immich
#       meta.helm.sh/release-namespace: tst
#     creationTimestamp: "2025-05-18T14:37:32Z"
#     labels:
#       app.kubernetes.io/component: master
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/managed-by: Helm
#       app.kubernetes.io/name: redis
#       app.kubernetes.io/version: 7.4.2
#       helm.sh/chart: redis-20.11.3
#       helm.toolkit.fluxcd.io/name: immich
#       helm.toolkit.fluxcd.io/namespace: tst
#     name: immich-redis-master
#     namespace: tst
#     resourceVersion: "2748627"
#     uid: 352f93c0-2def-45f3-8be2-845d92780d04
#   spec:
#     clusterIP: 10.98.189.191
#     clusterIPs:
#     - 10.98.189.191
#     internalTrafficPolicy: Cluster
#     ipFamilies:
#     - IPv4
#     ipFamilyPolicy: SingleStack
#     ports:
#     - name: tcp-redis
#       port: 6379
#       protocol: TCP
#       targetPort: redis
#     selector:
#       app.kubernetes.io/component: master
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/name: redis
#     sessionAffinity: None
#     type: ClusterIP
#   status:
#     loadBalancer: {}
# - apiVersion: v1
#   kind: Service
#   metadata:
#     annotations:
#       meta.helm.sh/release-name: immich
#       meta.helm.sh/release-namespace: tst
#     creationTimestamp: "2025-05-18T14:37:32Z"
#     labels:
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/managed-by: Helm
#       app.kubernetes.io/name: server
#       app.kubernetes.io/service: immich-server
#       app.kubernetes.io/version: v1.119.0
#       helm.sh/chart: immich-0.9.2
#       helm.toolkit.fluxcd.io/name: immich
#       helm.toolkit.fluxcd.io/namespace: tst
#     name: immich-server
#     namespace: tst
#     resourceVersion: "2748623"
#     uid: 0f296a71-0331-4bdb-8758-1d8f25de8a6b
#   spec:
#     clusterIP: 10.109.217.22
#     clusterIPs:
#     - 10.109.217.22
#     internalTrafficPolicy: Cluster
#     ipFamilies:
#     - IPv4
#     ipFamilyPolicy: SingleStack
#     ports:
#     - name: http
#       port: 2283
#       protocol: TCP
#       targetPort: http
#     selector:
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/name: server
#     sessionAffinity: None
#     type: ClusterIP
#   status:
#     loadBalancer: {}
# - apiVersion: apps/v1
#   kind: Deployment
#   metadata:
#     annotations:
#       deployment.kubernetes.io/revision: "1"
#       meta.helm.sh/release-name: immich
#       meta.helm.sh/release-namespace: tst
#     creationTimestamp: "2025-05-18T14:37:32Z"
#     generation: 1
#     labels:
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/managed-by: Helm
#       app.kubernetes.io/name: machine-learning
#       app.kubernetes.io/version: v1.119.0
#       helm.sh/chart: immich-0.9.2
#       helm.toolkit.fluxcd.io/name: immich
#       helm.toolkit.fluxcd.io/namespace: tst
#     name: immich-machine-learning
#     namespace: tst
#     resourceVersion: "2748801"
#     uid: 86fa8b96-134b-4f4d-95c7-7ba1556cb87c
#   spec:
#     progressDeadlineSeconds: 600
#     replicas: 1
#     revisionHistoryLimit: 3
#     selector:
#       matchLabels:
#         app.kubernetes.io/instance: immich
#         app.kubernetes.io/name: machine-learning
#     strategy:
#       rollingUpdate:
#         maxSurge: 25%
#         maxUnavailable: 25%
#       type: RollingUpdate
#     template:
#       metadata:
#         creationTimestamp: null
#         labels:
#           app.kubernetes.io/instance: immich
#           app.kubernetes.io/name: machine-learning
#       spec:
#         automountServiceAccountToken: true
#         containers:
#         - env:
#           - name: DB_DATABASE_NAME
#             value: immichdwawda
#           - name: DB_HOSTNAME
#             value: postgresqldawdawawaw
#           - name: DB_PASSWORD
#             value: ~Hed[3!Vxk95N=1vw@
#           - name: DB_USERNAME
#             value: immichadwaw
#           - name: IMMICH_IGNORE_MOUNT_CHECK_ERRORS
#             value: "true"
#           - name: IMMICH_MACHINE_LEARNING_URL
#             value: http://immich-machine-learning:3003
#           - name: REDIS_HOSTNAME
#             value: immich-redis-master
#           - name: TRANSFORMERS_CACHE
#             value: /cache
#           - name: UPLOAD_LOCATION
#             value: /usr/src/app/upload/library
#           image: ghcr.io/immich-app/immich-machine-learning:v1.119.0
#           imagePullPolicy: IfNotPresent
#           livenessProbe:
#             failureThreshold: 3
#             httpGet:
#               path: /ping
#               port: http
#               scheme: HTTP
#             periodSeconds: 10
#             successThreshold: 1
#             timeoutSeconds: 1
#           name: immich-machine-learning
#           ports:
#           - containerPort: 3003
#             name: http
#             protocol: TCP
#           readinessProbe:
#             failureThreshold: 3
#             httpGet:
#               path: /ping
#               port: http
#               scheme: HTTP
#             periodSeconds: 10
#             successThreshold: 1
#             timeoutSeconds: 1
#           resources: {}
#           startupProbe:
#             failureThreshold: 60
#             httpGet:
#               path: /ping
#               port: http
#               scheme: HTTP
#             periodSeconds: 10
#             successThreshold: 1
#             timeoutSeconds: 1
#           terminationMessagePath: /dev/termination-log
#           terminationMessagePolicy: File
#           volumeMounts:
#           - mountPath: /cache
#             name: cache
#         dnsPolicy: ClusterFirst
#         enableServiceLinks: true
#         restartPolicy: Always
#         schedulerName: default-scheduler
#         securityContext: {}
#         serviceAccount: default
#         serviceAccountName: default
#         terminationGracePeriodSeconds: 30
#         volumes:
#         - emptyDir: {}
#           name: cache
#   status:
#     availableReplicas: 1
#     conditions:
#     - lastTransitionTime: "2025-05-18T14:37:43Z"
#       lastUpdateTime: "2025-05-18T14:37:43Z"
#       message: Deployment has minimum availability.
#       reason: MinimumReplicasAvailable
#       status: "True"
#       type: Available
#     - lastTransitionTime: "2025-05-18T14:37:32Z"
#       lastUpdateTime: "2025-05-18T14:37:43Z"
#       message: ReplicaSet "immich-machine-learning-67b7f8c757" has successfully progressed.
#       reason: NewReplicaSetAvailable
#       status: "True"
#       type: Progressing
#     observedGeneration: 1
#     readyReplicas: 1
#     replicas: 1
#     updatedReplicas: 1
# - apiVersion: apps/v1
#   kind: Deployment
#   metadata:
#     annotations:
#       deployment.kubernetes.io/revision: "1"
#       meta.helm.sh/release-name: immich
#       meta.helm.sh/release-namespace: tst
#     creationTimestamp: "2025-05-18T14:37:32Z"
#     generation: 1
#     labels:
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/managed-by: Helm
#       app.kubernetes.io/name: server
#       app.kubernetes.io/version: v1.119.0
#       helm.sh/chart: immich-0.9.2
#       helm.toolkit.fluxcd.io/name: immich
#       helm.toolkit.fluxcd.io/namespace: tst
#     name: immich-server
#     namespace: tst
#     resourceVersion: "2748659"
#     uid: a5765a60-3dbc-4461-8361-edd040c7d23e
#   spec:
#     progressDeadlineSeconds: 600
#     replicas: 1
#     revisionHistoryLimit: 3
#     selector:
#       matchLabels:
#         app.kubernetes.io/instance: immich
#         app.kubernetes.io/name: server
#     strategy:
#       rollingUpdate:
#         maxSurge: 25%
#         maxUnavailable: 25%
#       type: RollingUpdate
#     template:
#       metadata:
#         creationTimestamp: null
#         labels:
#           app.kubernetes.io/instance: immich
#           app.kubernetes.io/name: server
#       spec:
#         automountServiceAccountToken: true
#         containers:
#         - env:
#           - name: DB_DATABASE_NAME
#             value: immichdwawda
#           - name: DB_HOSTNAME
#             value: postgresqldawdawawaw
#           - name: DB_PASSWORD
#             value: ~Hed[3!Vxk95N=1vw@
#           - name: DB_USERNAME
#             value: immichadwaw
#           - name: IMMICH_IGNORE_MOUNT_CHECK_ERRORS
#             value: "true"
#           - name: IMMICH_MACHINE_LEARNING_URL
#             value: http://immich-machine-learning:3003
#           - name: REDIS_HOSTNAME
#             value: immich-redis-master
#           - name: UPLOAD_LOCATION
#             value: /usr/src/app/upload/library
#           image: ghcr.io/immich-app/immich-server:v1.119.0
#           imagePullPolicy: IfNotPresent
#           livenessProbe:
#             failureThreshold: 3
#             httpGet:
#               path: /api/server/ping
#               port: http
#               scheme: HTTP
#             periodSeconds: 10
#             successThreshold: 1
#             timeoutSeconds: 1
#           name: immich-server
#           ports:
#           - containerPort: 2283
#             name: http
#             protocol: TCP
#           readinessProbe:
#             failureThreshold: 3
#             httpGet:
#               path: /api/server/ping
#               port: http
#               scheme: HTTP
#             periodSeconds: 10
#             successThreshold: 1
#             timeoutSeconds: 1
#           resources: {}
#           startupProbe:
#             failureThreshold: 30
#             httpGet:
#               path: /api/server/ping
#               port: http
#               scheme: HTTP
#             periodSeconds: 10
#             successThreshold: 1
#             timeoutSeconds: 1
#           terminationMessagePath: /dev/termination-log
#           terminationMessagePolicy: File
#           volumeMounts:
#           - mountPath: /usr/src/app/upload
#             name: library
#         dnsPolicy: ClusterFirst
#         enableServiceLinks: true
#         restartPolicy: Always
#         schedulerName: default-scheduler
#         securityContext: {}
#         serviceAccount: default
#         serviceAccountName: default
#         terminationGracePeriodSeconds: 30
#         volumes:
#         - name: library
#           persistentVolumeClaim:
#             claimName: immich-photos
#   status:
#     conditions:
#     - lastTransitionTime: "2025-05-18T14:37:32Z"
#       lastUpdateTime: "2025-05-18T14:37:32Z"
#       message: Deployment does not have minimum availability.
#       reason: MinimumReplicasUnavailable
#       status: "False"
#       type: Available
#     - lastTransitionTime: "2025-05-18T14:37:32Z"
#       lastUpdateTime: "2025-05-18T14:37:32Z"
#       message: ReplicaSet "immich-server-59b7b4c69" is progressing.
#       reason: ReplicaSetUpdated
#       status: "True"
#       type: Progressing
#     observedGeneration: 1
#     replicas: 1
#     unavailableReplicas: 1
#     updatedReplicas: 1
# - apiVersion: apps/v1
#   kind: ReplicaSet
#   metadata:
#     annotations:
#       deployment.kubernetes.io/desired-replicas: "1"
#       deployment.kubernetes.io/max-replicas: "2"
#       deployment.kubernetes.io/revision: "1"
#       meta.helm.sh/release-name: immich
#       meta.helm.sh/release-namespace: tst
#     creationTimestamp: "2025-05-18T14:37:32Z"
#     generation: 1
#     labels:
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/name: machine-learning
#       pod-template-hash: 67b7f8c757
#     name: immich-machine-learning-67b7f8c757
#     namespace: tst
#     ownerReferences:
#     - apiVersion: apps/v1
#       blockOwnerDeletion: true
#       controller: true
#       kind: Deployment
#       name: immich-machine-learning
#       uid: 86fa8b96-134b-4f4d-95c7-7ba1556cb87c
#     resourceVersion: "2748800"
#     uid: ab1c9c33-7620-4db8-b707-1d9995028f58
#   spec:
#     replicas: 1
#     selector:
#       matchLabels:
#         app.kubernetes.io/instance: immich
#         app.kubernetes.io/name: machine-learning
#         pod-template-hash: 67b7f8c757
#     template:
#       metadata:
#         creationTimestamp: null
#         labels:
#           app.kubernetes.io/instance: immich
#           app.kubernetes.io/name: machine-learning
#           pod-template-hash: 67b7f8c757
#       spec:
#         automountServiceAccountToken: true
#         containers:
#         - env:
#           - name: DB_DATABASE_NAME
#             value: immichdwawda
#           - name: DB_HOSTNAME
#             value: postgresqldawdawawaw
#           - name: DB_PASSWORD
#             value: ~Hed[3!Vxk95N=1vw@
#           - name: DB_USERNAME
#             value: immichadwaw
#           - name: IMMICH_IGNORE_MOUNT_CHECK_ERRORS
#             value: "true"
#           - name: IMMICH_MACHINE_LEARNING_URL
#             value: http://immich-machine-learning:3003
#           - name: REDIS_HOSTNAME
#             value: immich-redis-master
#           - name: TRANSFORMERS_CACHE
#             value: /cache
#           - name: UPLOAD_LOCATION
#             value: /usr/src/app/upload/library
#           image: ghcr.io/immich-app/immich-machine-learning:v1.119.0
#           imagePullPolicy: IfNotPresent
#           livenessProbe:
#             failureThreshold: 3
#             httpGet:
#               path: /ping
#               port: http
#               scheme: HTTP
#             periodSeconds: 10
#             successThreshold: 1
#             timeoutSeconds: 1
#           name: immich-machine-learning
#           ports:
#           - containerPort: 3003
#             name: http
#             protocol: TCP
#           readinessProbe:
#             failureThreshold: 3
#             httpGet:
#               path: /ping
#               port: http
#               scheme: HTTP
#             periodSeconds: 10
#             successThreshold: 1
#             timeoutSeconds: 1
#           resources: {}
#           startupProbe:
#             failureThreshold: 60
#             httpGet:
#               path: /ping
#               port: http
#               scheme: HTTP
#             periodSeconds: 10
#             successThreshold: 1
#             timeoutSeconds: 1
#           terminationMessagePath: /dev/termination-log
#           terminationMessagePolicy: File
#           volumeMounts:
#           - mountPath: /cache
#             name: cache
#         dnsPolicy: ClusterFirst
#         enableServiceLinks: true
#         restartPolicy: Always
#         schedulerName: default-scheduler
#         securityContext: {}
#         serviceAccount: default
#         serviceAccountName: default
#         terminationGracePeriodSeconds: 30
#         volumes:
#         - emptyDir: {}
#           name: cache
#   status:
#     availableReplicas: 1
#     fullyLabeledReplicas: 1
#     observedGeneration: 1
#     readyReplicas: 1
#     replicas: 1
# - apiVersion: apps/v1
#   kind: ReplicaSet
#   metadata:
#     annotations:
#       deployment.kubernetes.io/desired-replicas: "1"
#       deployment.kubernetes.io/max-replicas: "2"
#       deployment.kubernetes.io/revision: "1"
#       meta.helm.sh/release-name: immich
#       meta.helm.sh/release-namespace: tst
#     creationTimestamp: "2025-05-18T14:37:32Z"
#     generation: 1
#     labels:
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/name: server
#       pod-template-hash: 59b7b4c69
#     name: immich-server-59b7b4c69
#     namespace: tst
#     ownerReferences:
#     - apiVersion: apps/v1
#       blockOwnerDeletion: true
#       controller: true
#       kind: Deployment
#       name: immich-server
#       uid: a5765a60-3dbc-4461-8361-edd040c7d23e
#     resourceVersion: "2748656"
#     uid: e40db1a0-3ee7-49a7-8a55-6f4ad769b3de
#   spec:
#     replicas: 1
#     selector:
#       matchLabels:
#         app.kubernetes.io/instance: immich
#         app.kubernetes.io/name: server
#         pod-template-hash: 59b7b4c69
#     template:
#       metadata:
#         creationTimestamp: null
#         labels:
#           app.kubernetes.io/instance: immich
#           app.kubernetes.io/name: server
#           pod-template-hash: 59b7b4c69
#       spec:
#         automountServiceAccountToken: true
#         containers:
#         - env:
#           - name: DB_DATABASE_NAME
#             value: immichdwawda
#           - name: DB_HOSTNAME
#             value: postgresqldawdawawaw
#           - name: DB_PASSWORD
#             value: ~Hed[3!Vxk95N=1vw@
#           - name: DB_USERNAME
#             value: immichadwaw
#           - name: IMMICH_IGNORE_MOUNT_CHECK_ERRORS
#             value: "true"
#           - name: IMMICH_MACHINE_LEARNING_URL
#             value: http://immich-machine-learning:3003
#           - name: REDIS_HOSTNAME
#             value: immich-redis-master
#           - name: UPLOAD_LOCATION
#             value: /usr/src/app/upload/library
#           image: ghcr.io/immich-app/immich-server:v1.119.0
#           imagePullPolicy: IfNotPresent
#           livenessProbe:
#             failureThreshold: 3
#             httpGet:
#               path: /api/server/ping
#               port: http
#               scheme: HTTP
#             periodSeconds: 10
#             successThreshold: 1
#             timeoutSeconds: 1
#           name: immich-server
#           ports:
#           - containerPort: 2283
#             name: http
#             protocol: TCP
#           readinessProbe:
#             failureThreshold: 3
#             httpGet:
#               path: /api/server/ping
#               port: http
#               scheme: HTTP
#             periodSeconds: 10
#             successThreshold: 1
#             timeoutSeconds: 1
#           resources: {}
#           startupProbe:
#             failureThreshold: 30
#             httpGet:
#               path: /api/server/ping
#               port: http
#               scheme: HTTP
#             periodSeconds: 10
#             successThreshold: 1
#             timeoutSeconds: 1
#           terminationMessagePath: /dev/termination-log
#           terminationMessagePolicy: File
#           volumeMounts:
#           - mountPath: /usr/src/app/upload
#             name: library
#         dnsPolicy: ClusterFirst
#         enableServiceLinks: true
#         restartPolicy: Always
#         schedulerName: default-scheduler
#         securityContext: {}
#         serviceAccount: default
#         serviceAccountName: default
#         terminationGracePeriodSeconds: 30
#         volumes:
#         - name: library
#           persistentVolumeClaim:
#             claimName: immich-photos
#   status:
#     fullyLabeledReplicas: 1
#     observedGeneration: 1
#     replicas: 1
# - apiVersion: apps/v1
#   kind: StatefulSet
#   metadata:
#     annotations:
#       meta.helm.sh/release-name: immich
#       meta.helm.sh/release-namespace: tst
#     creationTimestamp: "2025-05-18T14:37:32Z"
#     generation: 1
#     labels:
#       app.kubernetes.io/component: master
#       app.kubernetes.io/instance: immich
#       app.kubernetes.io/managed-by: Helm
#       app.kubernetes.io/name: redis
#       app.kubernetes.io/version: 7.4.2
#       helm.sh/chart: redis-20.11.3
#       helm.toolkit.fluxcd.io/name: immich
#       helm.toolkit.fluxcd.io/namespace: tst
#     name: immich-redis-master
#     namespace: tst
#     resourceVersion: "2748967"
#     uid: aa290862-1b31-442b-9358-1eef05365146
#   spec:
#     persistentVolumeClaimRetentionPolicy:
#       whenDeleted: Retain
#       whenScaled: Retain
#     podManagementPolicy: OrderedReady
#     replicas: 1
#     revisionHistoryLimit: 10
#     selector:
#       matchLabels:
#         app.kubernetes.io/component: master
#         app.kubernetes.io/instance: immich
#         app.kubernetes.io/name: redis
#     serviceName: immich-redis-headless
#     template:
#       metadata:
#         annotations:
#           checksum/configmap: 2a9ab4a5432825504d910f022638674ce88eaefe9f9f595ad8bc107377d104fb
#           checksum/health: aff24913d801436ea469d8d374b2ddb3ec4c43ee7ab24663d5f8ff1a1b6991a9
#           checksum/scripts: bdec350b84a1ace7cc118db113a21c9f160bde3425b07714e1c0c1da722621cf
#           checksum/secret: 44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
#         creationTimestamp: null
#         labels:
#           app.kubernetes.io/component: master
#           app.kubernetes.io/instance: immich
#           app.kubernetes.io/managed-by: Helm
#           app.kubernetes.io/name: redis
#           app.kubernetes.io/version: 7.4.2
#           helm.sh/chart: redis-20.11.3
#       spec:
#         affinity:
#           podAntiAffinity:
#             preferredDuringSchedulingIgnoredDuringExecution:
#             - podAffinityTerm:
#                 labelSelector:
#                   matchLabels:
#                     app.kubernetes.io/component: master
#                     app.kubernetes.io/instance: immich
#                     app.kubernetes.io/name: redis
#                 topologyKey: kubernetes.io/hostname
#               weight: 1
#         automountServiceAccountToken: false
#         containers:
#         - args:
#           - -c
#           - /opt/bitnami/scripts/start-scripts/start-master.sh
#           command:
#           - /bin/bash
#           env:
#           - name: BITNAMI_DEBUG
#             value: "false"
#           - name: REDIS_REPLICATION_MODE
#             value: master
#           - name: ALLOW_EMPTY_PASSWORD
#             value: "yes"
#           - name: REDIS_TLS_ENABLED
#             value: "no"
#           - name: REDIS_PORT
#             value: "6379"
#           image: docker.io/bitnami/redis:7.4.2-debian-12-r4
#           imagePullPolicy: IfNotPresent
#           livenessProbe:
#             exec:
#               command:
#               - sh
#               - -c
#               - /health/ping_liveness_local.sh 5
#             failureThreshold: 5
#             initialDelaySeconds: 20
#             periodSeconds: 5
#             successThreshold: 1
#             timeoutSeconds: 6
#           name: redis
#           ports:
#           - containerPort: 6379
#             name: redis
#             protocol: TCP
#           readinessProbe:
#             exec:
#               command:
#               - sh
#               - -c
#               - /health/ping_readiness_local.sh 1
#             failureThreshold: 5
#             initialDelaySeconds: 20
#             periodSeconds: 5
#             successThreshold: 1
#             timeoutSeconds: 2
#           resources:
#             limits:
#               cpu: 150m
#               ephemeral-storage: 2Gi
#               memory: 192Mi
#             requests:
#               cpu: 100m
#               ephemeral-storage: 50Mi
#               memory: 128Mi
#           securityContext:
#             allowPrivilegeEscalation: false
#             capabilities:
#               drop:
#               - ALL
#             readOnlyRootFilesystem: true
#             runAsGroup: 1001
#             runAsNonRoot: true
#             runAsUser: 1001
#             seLinuxOptions: {}
#             seccompProfile:
#               type: RuntimeDefault
#           terminationMessagePath: /dev/termination-log
#           terminationMessagePolicy: File
#           volumeMounts:
#           - mountPath: /opt/bitnami/scripts/start-scripts
#             name: start-scripts
#           - mountPath: /health
#             name: health
#           - mountPath: /data
#             name: redis-data
#           - mountPath: /opt/bitnami/redis/mounted-etc
#             name: config
#           - mountPath: /opt/bitnami/redis/etc/
#             name: empty-dir
#             subPath: app-conf-dir
#           - mountPath: /tmp
#             name: empty-dir
#             subPath: tmp-dir
#         dnsPolicy: ClusterFirst
#         enableServiceLinks: true
#         restartPolicy: Always
#         schedulerName: default-scheduler
#         securityContext:
#           fsGroup: 1001
#           fsGroupChangePolicy: Always
#         serviceAccount: immich-redis-master
#         serviceAccountName: immich-redis-master
#         terminationGracePeriodSeconds: 30
#         volumes:
#         - configMap:
#             defaultMode: 493
#             name: immich-redis-scripts
#           name: start-scripts
#         - configMap:
#             defaultMode: 493
#             name: immich-redis-health
#           name: health
#         - configMap:
#             defaultMode: 420
#             name: immich-redis-configuration
#           name: config
#         - emptyDir: {}
#           name: empty-dir
#     updateStrategy:
#       type: RollingUpdate
#     volumeClaimTemplates:
#     - apiVersion: v1
#       kind: PersistentVolumeClaim
#       metadata:
#         creationTimestamp: null
#         labels:
#           app.kubernetes.io/component: master
#           app.kubernetes.io/instance: immich
#           app.kubernetes.io/name: redis
#         name: redis-data
#       spec:
#         accessModes:
#         - ReadWriteOnce
#         resources:
#           requests:
#             storage: 8Gi
#         volumeMode: Filesystem
#       status:
#         phase: Pending
#   status:
#     availableReplicas: 1
#     collisionCount: 0
#     currentReplicas: 1
#     currentRevision: immich-redis-master-7f79854f7d
#     observedGeneration: 1
#     readyReplicas: 1
#     replicas: 1
#     updateRevision: immich-redis-master-7f79854f7d
#     updatedReplicas: 1
# kind: List
# metadata:
#   resourceVersion: ""
